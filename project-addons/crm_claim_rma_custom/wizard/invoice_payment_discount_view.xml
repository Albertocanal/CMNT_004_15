<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="invoice_payment_discount_form" model="ir.ui.view">
        <field name="name">crm.claim.invoice.discount.wizard</field>
        <field name="model">crm.claim.invoice.discount</field>
        <field name="arch" type="xml">
            <form string="CRM claim invoice discount">
                <label string="This invoice has discounts"/>
                 <field name="crm_claim_line_ids" mode="tree">
                    <tree string="CRM claim invoice discount lines" create="false" delete="false" editable="top">
                        <field name="invoice_id"/>
                        <field name="product_id"/>
                        <field name="product_description"/>
                        <field name="qty"/>
                        <field name="price_unit"/>
                        <field name="discount"/>
                        <field name="tax_ids"/>
                        <field name="price_subtotal"/>
                        <field name="invoiced"/>
                    </tree>
                </field>
                <footer>
                    <button name="make_refund_invoice"
                        attrs="{'invisible': [('crm_claim_line_ids', '=', [])]}"
                        type="object" string="Create refund" class="btn-primary"/>
                    <button string="Cancel" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="create_invoice_payment_discount_wizard" model="ir.actions.act_window">
        <field name="name">Create Invoice Payment Discount</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">crm.claim.invoice.discount</field>
        <field name="view_mode">form</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="invoice_payment_discount_form"/>
        <field name="target">new</field>
    </record>

    <!-- <act_window id="create_invoice_payment_discount_wizard"
        name="Create Invoice Payment Discount"
        res_model="crm.claim.invoice.discount"
        view_id="invoice_payment_discount_form"
        view_mode="form"
        target="new"
        key2="client_action_multi" /> -->
</odoo>