<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

    <record id="purchase_proposal_tree" model="ir.ui.view">
        <field name="name">purchase.proposal.tree</field>
        <field name="model">purchase.proposal</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Purchase proposals" colors="blue:state in ('new');red:state in ('cancel')">
                <field name="product_id"/>
                <field name="date"/>
                <field name="qty"/>
                <field name="supplier_id"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

   <record id="purchase_proposal_form" model="ir.ui.view">
        <field name="name">purchase.proposal.form</field>
        <field name="model">purchase.proposal</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Purchase proposal">
                <header>
                    <button name="act_cancel" type="object" string="Cancel" states="new"/>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <group>
                        <field name="product_id"/>
                        <field name="date"/>
                        <field name="qty"/>
                        <field name="supplier_id"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="purchase_proposal_search" model="ir.ui.view">
        <field name="name">purchase.proposal.search</field>
        <field name="model">purchase.proposal</field>
        <field name="type">search</field>
        <field name="arch" type="xml">
            <search string="Purchase proposal">
                <field name="product_id"/>
                <field name="qty"/>
                <field name="supplier_id"/>
                <field name="state"/>
                <filter name="new" string="new" domain="[('state', '=', 'new')]" />
                <filter name="done" string="done" domain="[('state', '=', 'done')]" />
                <filter name="cancel" string="cancel" domain="[('state', '=', 'cancel')]" />
           </search>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_purchase_proposal">
        <field name="name">Purchase proposal</field>
        <field name="res_model">purchase.proposal</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="purchase_proposal_search"/>
        <field name="context">{"search_default_new": 1}</field>
    </record>

    <menuitem name="Purchase proposal" parent="stock.menu_stock_sched" action="action_purchase_proposal" id="menu_purchase_proposal"/>

    <delete id="stock.menu_procurement_compute" model="ir.ui.menu"/>
    <delete id="stock.menu_stock_proc_schedulers" model="ir.ui.menu"/>

</data>
</openerp>
